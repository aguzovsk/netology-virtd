<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <link href="../../../../css-styles/terminal.css" rel="stylesheet">
  <meta charset="UTF-8">
  <title>lighthouse-role: molecule converge -s rhel9-podman</title>
</head>
<body class="terminal-body">
  <pre class="terminal-pre terminal-line ubuntu-mono-regular">
(venv-12) <font color="#26A269"><b>user@xyz</b></font>:<font color="#12488B"><b>lighthouse-role</b></font>$ molecule converge -s generic-podman
<font color="#C01C28">WARNING </font> Driver podman does not provide a schema.
<font color="#12488B">INFO    </font> generic-podman scenario test matrix: dependency, create, prepare, converge
<font color="#12488B">INFO    </font> Performing prerun with <font color="#A2734C">role_name_check</font>=<font color="#2AA1B3"><b>1</b></font><font color="#A2734C">...</font>
<font color="#C01C28">WARNING </font> Computed fully qualified role name of lighthouse-role does not follow current galaxy requirements.
Please edit meta/main.yml and assure we can correctly determine full role name:

galaxy_info:
role_name: my_name  # if absent directory name hosting role is used instead
namespace: my_galaxy_namespace  # if absent, author is used instead

Namespace: <font color="#2A7BDE"><u style="text-decoration-style:solid">https://galaxy.ansible.com/docs/contributing/namespaces.html#galaxy-namespace-limitations</u></font>
Role: <font color="#2A7BDE"><u style="text-decoration-style:solid">https://galaxy.ansible.com/docs/contributing/creating_role.html#role-names</u></font>

As an alternative, you can add <font color="#26A269">&apos;role-name&apos;</font> to either skip_list or warn_list.

<font color="#12488B">INFO    </font> <font color="#1C6B77">Running </font><font color="#196C46">generic-podman</font><font color="#1C6B77"> &gt; </font><font color="#196C46">dependency</font>
Starting galaxy role install process
- clickhouse (1.13) is already installed, skipping.
- vector-role (ansible-vector-role) is already installed, skipping.
<font color="#12488B">INFO    </font> Dependency completed successfully.
<font color="#C01C28">WARNING </font> Skipping, missing the requirements file.
<font color="#12488B">INFO    </font> <font color="#1C6B77">Running </font><font color="#196C46">generic-podman</font><font color="#1C6B77"> &gt; </font><font color="#196C46">create</font>
<font color="#12488B">INFO    </font> Sanity checks: <font color="#26A269">&apos;podman&apos;</font>

PLAY [Create] ******************************************************************

TASK [Log into a container registry] *******************************************
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=&quot;clickhouse-generic-podman-lighthouse registry username: None specified&quot;) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=&quot;lighthouse-generator-generic-podman registry username: None specified&quot;) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=&quot;lighthouse-alpine-podman registry username: None specified&quot;) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=&quot;lighthouse-tumbleweed-podman registry username: None specified&quot;) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=&quot;lighthouse-fedora-podman registry username: None specified&quot;) </font>
<font color="#2AA1B3">skipping: [localhost]</font>

TASK [Check presence of custom Dockerfiles] ************************************
<font color="#26A269">ok: [localhost] =&gt; (item=Dockerfile: None specified)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=Dockerfile: None specified)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=Dockerfile: ../resources/Dockerfile.j2)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=Dockerfile: ../resources/Dockerfile.j2)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=Dockerfile: ../resources/Dockerfile.j2)</font>

TASK [Create Dockerfiles from image names] *************************************
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=&quot;Dockerfile: None specified; Image: docker.io/clickhouse/clickhouse-server:latest&quot;) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=&quot;Dockerfile: None specified; Image: registry.access.redhat.com/ubi9/ubi-init&quot;) </font>
<font color="#A2734C">changed: [localhost] =&gt; (item=&quot;Dockerfile: ../resources/Dockerfile.j2; Image: alpine:latest&quot;)</font>
<font color="#A2734C">changed: [localhost] =&gt; (item=&quot;Dockerfile: ../resources/Dockerfile.j2; Image: opensuse/tumbleweed:latest&quot;)</font>
<font color="#A2734C">changed: [localhost] =&gt; (item=&quot;Dockerfile: ../resources/Dockerfile.j2; Image: fedora:latest&quot;)</font>

TASK [Discover local Podman images] ********************************************
<font color="#26A269">ok: [localhost] =&gt; (item=clickhouse-generic-podman-lighthouse)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-generator-generic-podman)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-alpine-podman)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-tumbleweed-podman)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-fedora-podman)</font>

TASK [Build an Ansible compatible image] ***************************************
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=docker.io/clickhouse/clickhouse-server:latest) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=registry.access.redhat.com/ubi9/ubi-init) </font>
<font color="#26A269">ok: [localhost] =&gt; (item=alpine:latest)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=opensuse/tumbleweed:latest)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=fedora:latest)</font>

TASK [Determine the CMD directives] ********************************************
<font color="#26A269">ok: [localhost] =&gt; (item=&quot;clickhouse-generic-podman-lighthouse command: /entrypoint.sh&quot;)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=&quot;lighthouse-generator-generic-podman command: /sbin/init&quot;)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=&quot;lighthouse-alpine-podman command: /sbin/init&quot;)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=&quot;lighthouse-tumbleweed-podman command: /sbin/init&quot;)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=&quot;lighthouse-fedora-podman command: /sbin/init&quot;)</font>

TASK [Discover local podman networks] ******************************************
<font color="#26A269">ok: [localhost] =&gt; (item=clickhouse-generic-podman-lighthouse: lighthouse-podman-rhel9)</font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=lighthouse-generator-generic-podman: lighthouse-podman-rhel9) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=lighthouse-alpine-podman: lighthouse-podman-rhel9) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=lighthouse-tumbleweed-podman: lighthouse-podman-rhel9) </font>
<font color="#2AA1B3">skipping: [localhost] =&gt; (item=lighthouse-fedora-podman: lighthouse-podman-rhel9) </font>

TASK [Create podman network dedicated to this scenario] ************************
<font color="#A2734C">changed: [localhost]</font>

TASK [Create molecule instance(s)] *********************************************
<font color="#26A269">ok: [localhost] =&gt; (item=clickhouse-generic-podman-lighthouse)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-generator-generic-podman)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-alpine-podman)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-tumbleweed-podman)</font>
<font color="#26A269">ok: [localhost] =&gt; (item=lighthouse-fedora-podman)</font>

TASK [Wait for instance(s) creation to complete] *******************************
<font color="#A2734C">changed: [localhost] =&gt; (item=clickhouse-generic-podman-lighthouse)</font>
<font color="#A2734C">changed: [localhost] =&gt; (item=lighthouse-generator-generic-podman)</font>
<font color="#A2734C">changed: [localhost] =&gt; (item=lighthouse-alpine-podman)</font>
<font color="#A2734C">changed: [localhost] =&gt; (item=lighthouse-tumbleweed-podman)</font>
<font color="#A2734C">changed: [localhost] =&gt; (item=lighthouse-fedora-podman)</font>

PLAY RECAP *********************************************************************
<font color="#A2734C">localhost</font>                  : <font color="#26A269">ok=9   </font> <font color="#A2734C">changed=3   </font> unreachable=0    failed=0    <font color="#2AA1B3">skipped=1   </font> rescued=0    ignored=0

<font color="#12488B">INFO    </font> <font color="#1C6B77">Running </font><font color="#196C46">generic-podman</font><font color="#1C6B77"> &gt; </font><font color="#196C46">prepare</font>
<font color="#A347BA"><b>[WARNING]: Could not match supplied host pattern, ignoring: clickhouse</b></font>

PLAY [Prepare users and groups] ************************************************

TASK [ansible.builtin.set_fact] ************************************************
<font color="#26A269">ok: [lighthouse-generator-generic-podman]</font>
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>
<font color="#26A269">ok: [lighthouse-fedora-podman]</font>
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>

TASK [ansible.builtin.debug] ***************************************************
<font color="#26A269">ok: [lighthouse-generator-generic-podman] =&gt; {</font>
<font color="#26A269">    &quot;msg&quot;: &quot;lighthouse-generator-generic-podman: gname=vector&quot;</font>
<font color="#26A269">}</font>
<font color="#26A269">ok: [lighthouse-alpine-podman] =&gt; {</font>
<font color="#26A269">    &quot;msg&quot;: &quot;lighthouse-alpine-podman: gname=lighthouse&quot;</font>
<font color="#26A269">}</font>
<font color="#26A269">ok: [lighthouse-fedora-podman] =&gt; {</font>
<font color="#26A269">    &quot;msg&quot;: &quot;lighthouse-fedora-podman: gname=lighthouse&quot;</font>
<font color="#26A269">}</font>
<font color="#26A269">ok: [lighthouse-tumbleweed-podman] =&gt; {</font>
<font color="#26A269">    &quot;msg&quot;: &quot;lighthouse-tumbleweed-podman: gname=lighthouse&quot;</font>
<font color="#26A269">}</font>

TASK [Ensure ansible group is present] *****************************************
<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>
<font color="#26A269">ok: [lighthouse-fedora-podman]</font>
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>

TASK [Ensure ansible user is created] ******************************************
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>
<font color="#26A269">ok: [lighthouse-fedora-podman]</font>
<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>

TASK [install required packages] ***********************************************
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>
<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>
<font color="#26A269">ok: [lighthouse-fedora-podman]</font>

TASK [Ensure sudoers folder exists] ********************************************
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,4 +1,4 @@</font>
  {
<font color="#C01C28">-    &quot;mode&quot;: &quot;0750&quot;,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0755&quot;,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d&quot;
  }

<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,4 +1,4 @@</font>
  {
<font color="#C01C28">-    &quot;mode&quot;: &quot;0750&quot;,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0755&quot;,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d&quot;
  }

<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,4 +1,4 @@</font>
  {
<font color="#C01C28">-    &quot;mode&quot;: &quot;0750&quot;,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0755&quot;,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d&quot;
  }

<font color="#A2734C">changed: [lighthouse-fedora-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,4 +1,4 @@</font>
  {
<font color="#C01C28">-    &quot;mode&quot;: &quot;0750&quot;,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0755&quot;,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d&quot;
  }

<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>

TASK [Ensure ansible sudoers file exists] **************************************
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,6 +1,6 @@</font>
  {
<font color="#C01C28">-    &quot;atime&quot;: 1730998380.5065746,</font>
<font color="#C01C28">-    &quot;mtime&quot;: 1730998380.5065746,</font>
<font color="#26A269">+    &quot;atime&quot;: 1730998380.5075853,</font>
<font color="#26A269">+    &quot;mtime&quot;: 1730998380.5075853,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d/ansible&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;absent&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;touch&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,6 +1,6 @@</font>
  {
<font color="#C01C28">-    &quot;atime&quot;: 1730997820.0,</font>
<font color="#C01C28">-    &quot;mtime&quot;: 1730997820.0,</font>
<font color="#26A269">+    &quot;atime&quot;: 1730998380.6348956,</font>
<font color="#26A269">+    &quot;mtime&quot;: 1730998380.6348956,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d/ansible&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;file&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;touch&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-fedora-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,6 +1,6 @@</font>
  {
<font color="#C01C28">-    &quot;atime&quot;: 1730997817.0,</font>
<font color="#C01C28">-    &quot;mtime&quot;: 1730997817.0,</font>
<font color="#26A269">+    &quot;atime&quot;: 1730998380.6845686,</font>
<font color="#26A269">+    &quot;mtime&quot;: 1730998380.6845686,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d/ansible&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;file&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;touch&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,6 +1,6 @@</font>
  {
<font color="#C01C28">-    &quot;atime&quot;: 1730997818.0,</font>
<font color="#C01C28">-    &quot;mtime&quot;: 1730997818.0,</font>
<font color="#26A269">+    &quot;atime&quot;: 1730998380.7187326,</font>
<font color="#26A269">+    &quot;mtime&quot;: 1730998380.7187326,</font>
      &quot;path&quot;: &quot;/etc/sudoers.d/ansible&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;file&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;touch&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>

TASK [Ensure ansible group is in sudoers] **************************************
<font color="#26A269">ok: [lighthouse-fedora-podman]</font>
<font color="#C01C28">--- before: /etc/sudoers.d/ansible (content)</font>
<font color="#26A269">+++ after: /etc/sudoers.d/ansible (content)</font>
<font color="#2AA1B3">@@ -0,0 +1 @@</font>
<font color="#26A269">+%vector ALL=(ALL) NOPASSWD:ALL</font>

<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>

PLAY [Install Clickhouse] ******************************************************
<font color="#2AA1B3">skipping: no hosts matched</font>

PLAY [Install Datadog Vector] **************************************************

TASK [Gathering Facts] *********************************************************
<font color="#26A269">ok: [lighthouse-generator-generic-podman]</font>

TASK [Retrieve driver name (docker/podman)] ************************************
<font color="#26A269">ok: [lighthouse-generator-generic-podman]</font>

TASK [Get clickhouse IP] *******************************************************
<font color="#26A269">ok: [lighthouse-generator-generic-podman -&gt; localhost]</font>

TASK [Remember Clickhouse IP (1 address)] **************************************
<font color="#26A269">ok: [lighthouse-generator-generic-podman]</font>

TASK [vector-role : Assert necessary variables are set] ************************
<font color="#26A269">ok: [lighthouse-generator-generic-podman]</font>

TASK [vector-role : Create download folder] ************************************
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,6 +1,6 @@</font>
  {
<font color="#C01C28">-    &quot;group&quot;: 0,</font>
<font color="#C01C28">-    &quot;owner&quot;: 0,</font>
<font color="#26A269">+    &quot;group&quot;: 1000,</font>
<font color="#26A269">+    &quot;owner&quot;: 1000,</font>
      &quot;path&quot;: &quot;/opt/binaries&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;absent&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;directory&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>

TASK [vector-role : Install vector] ********************************************
<font color="#2AA1B3">included: /home/user/Projects/netology-devops/ansible/08-ansible-04-role/roles/vector-role/tasks/install/RedHat.yaml for lighthouse-generator-generic-podman</font>

TASK [vector-role : ReadHat-based -- download vector package] ******************
<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>

TASK [vector-role : RedHat-based -- Install vector package] ********************
<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>

TASK [vector-role : Copy Clickhouse CA (Certificate Authority) certificate] ****
<font color="#2AA1B3">skipping: [lighthouse-generator-generic-podman]</font>

TASK [vector-role : Change vector directory permission] ************************
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,6 +1,6 @@</font>
  {
<font color="#C01C28">-    &quot;group&quot;: 0,</font>
<font color="#C01C28">-    &quot;mode&quot;: &quot;0755&quot;,</font>
<font color="#C01C28">-    &quot;owner&quot;: 0,</font>
<font color="#26A269">+    &quot;group&quot;: 1000,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0751&quot;,</font>
<font color="#26A269">+    &quot;owner&quot;: 1000,</font>
      &quot;path&quot;: &quot;/etc/vector&quot;
  }

<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>

TASK [vector-role : Configuring Vector using template] *************************
<font color="#C01C28">--- before: /etc/vector/vector.yaml</font>
<font color="#26A269">+++ after: /home/user/.ansible/tmp/ansible-local-885997e8pcfyc7/tmpsto0q6a4/vector.yaml.j2</font>
<font color="#2AA1B3">@@ -20,7 +20,7 @@</font>
    dummy_logs:
      type: &quot;demo_logs&quot;
      format: &quot;syslog&quot;
<font color="#C01C28">-    interval: 1</font>
<font color="#26A269">+    interval: 3</font>

  # Parse Syslog logs
  # See the Vector Remap Language reference for more info: https://vrl.dev
<font color="#2AA1B3">@@ -29,21 +29,22 @@</font>
      type: &quot;remap&quot;
      inputs: [&quot;dummy_logs&quot;]
      source: |
<font color="#C01C28">-      . = parse_syslog!(string!(.message))</font>
<font color="#26A269">+      . = parse_syslog!(.message)</font>
<font color="#26A269">+      . |= set!(value: ., path: [&quot;hostname&quot;], data: get_hostname!())</font>
<font color="#26A269">+      .timestamp = format_timestamp!(.timestamp, &quot;%F %T%.3f&quot;)</font>

<font color="#C01C28">-# Print parsed logs to stdout</font>
  sinks:
<font color="#C01C28">-  print:</font>
<font color="#C01C28">-    type: &quot;console&quot;</font>
<font color="#C01C28">-    inputs: [&quot;parse_logs&quot;]</font>
<font color="#C01C28">-    encoding:</font>
<font color="#C01C28">-      codec: &quot;json&quot;</font>
<font color="#C01C28">-      json:</font>
<font color="#C01C28">-        pretty: true</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-# Vector&apos;s GraphQL API (disabled by default)</font>
<font color="#C01C28">-# Uncomment to try it out with the `vector top` command or</font>
<font color="#C01C28">-# in your browser at http://localhost:8686</font>
<font color="#C01C28">-# api:</font>
<font color="#C01C28">-#   enabled: true</font>
<font color="#C01C28">-#   address: &quot;127.0.0.1:8686&quot;</font>
<font color="#26A269">+  clickhouse-1:</font>
<font color="#26A269">+    type: clickhouse</font>
<font color="#26A269">+    inputs:</font>
<font color="#26A269">+      - parse_logs</font>
<font color="#26A269">+    endpoint: http://192.168.62.210:8123</font>
<font color="#26A269">+    database: logs</font>
<font color="#26A269">+    table: datadog</font>
<font color="#26A269">+    batch:</font>
<font color="#26A269">+      timeout_secs: 1</font>
<font color="#26A269">+    auth:</font>
<font color="#26A269">+      strategy: &quot;basic&quot;</font>
<font color="#26A269">+      user: vector</font>
<font color="#26A269">+      password: secret</font>
<font color="#26A269">+    </font>

<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>

RUNNING HANDLER [vector-role : Start vector service] ***************************
<font color="#A2734C">changed: [lighthouse-generator-generic-podman]</font>

PLAY RECAP *********************************************************************
<font color="#A2734C">lighthouse-alpine-podman</font>   : <font color="#26A269">ok=8   </font> <font color="#A2734C">changed=2   </font> unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
<font color="#A2734C">lighthouse-fedora-podman</font>   : <font color="#26A269">ok=8   </font> <font color="#A2734C">changed=2   </font> unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
<font color="#A2734C">lighthouse-generator-generic-podman</font> : <font color="#26A269">ok=20  </font> <font color="#A2734C">changed=12  </font> unreachable=0    failed=0    <font color="#2AA1B3">skipped=1   </font> rescued=0    ignored=0
<font color="#A2734C">lighthouse-tumbleweed-podman</font> : <font color="#26A269">ok=8   </font> <font color="#A2734C">changed=2   </font> unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<font color="#12488B">INFO    </font> <font color="#1C6B77">Running </font><font color="#196C46">generic-podman</font><font color="#1C6B77"> &gt; </font><font color="#196C46">converge</font>

PLAY [Install LightHouse on hosts] *********************************************

TASK [Gathering Facts] *********************************************************
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>
<font color="#26A269">ok: [lighthouse-fedora-podman]</font>
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>

TASK [lighthouse-role : Install required packages [nginx, git]] ****************
<font color="#C01C28">fatal: [lighthouse-fedora-podman]: FAILED! =&gt; {&quot;changed&quot;: false, &quot;module_stderr&quot;: &quot;sudo: PAM account management error: Authentication service cannot retrieve authentication info\nsudo: a password is required\n&quot;, &quot;module_stdout&quot;: &quot;&quot;, &quot;msg&quot;: &quot;MODULE FAILURE\nSee stdout/stderr for the exact error&quot;, &quot;rc&quot;: 1}</font>
<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>
installed: busybox-less, fontconfig, git, git-core, libX11-6, libX11-data, libXau6, libXpm4, libaom3, libavif16, libbrotlicommon1, libbrotlidec1, libdav1d7, libdb-4_8, libexslt0, libfontconfig1, libfreetype6, libgd3, libgdbm6, libgdbm_compat4, libjbig2, libjpeg8, libpng16-16, librav1e0_7, libsha1detectcoll1, libsharpyuv0, libtiff6, libwebp7, libxcb1, libxslt1, libyuv0, nginx, perl, perl-Error, perl-Git, perl-base, vim, vim-data-common, xxd
<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>

TASK [lighthouse-role : Create folder for lighthouse] **************************
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,7 +1,7 @@</font>
  {
<font color="#C01C28">-    &quot;group&quot;: 0,</font>
<font color="#C01C28">-    &quot;mode&quot;: &quot;0755&quot;,</font>
<font color="#C01C28">-    &quot;owner&quot;: 0,</font>
<font color="#26A269">+    &quot;group&quot;: 1000,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0751&quot;,</font>
<font color="#26A269">+    &quot;owner&quot;: 1000,</font>
      &quot;path&quot;: &quot;/opt/lighthouse&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;absent&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;directory&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,7 +1,7 @@</font>
  {
<font color="#C01C28">-    &quot;group&quot;: 0,</font>
<font color="#C01C28">-    &quot;mode&quot;: &quot;0755&quot;,</font>
<font color="#C01C28">-    &quot;owner&quot;: 0,</font>
<font color="#26A269">+    &quot;group&quot;: 1000,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0751&quot;,</font>
<font color="#26A269">+    &quot;owner&quot;: 1000,</font>
      &quot;path&quot;: &quot;/opt/lighthouse&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;absent&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;directory&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>

TASK [lighthouse-role : Clone Lighthouse repository] ***************************
&gt;&gt; Newly checked out d701335c25cd1bb9b5155711190bad8ab852c2ce
<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>
&gt;&gt; Newly checked out d701335c25cd1bb9b5155711190bad8ab852c2ce
<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>

TASK [lighthouse-role : Ensure /etc/nginx/conf.d exists and is writable] *******
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,4 +1,4 @@</font>
  {
<font color="#C01C28">-    &quot;mode&quot;: &quot;0755&quot;,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0777&quot;,</font>
      &quot;path&quot;: &quot;/etc/nginx/conf.d&quot;
  }

<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after</font>
<font color="#2AA1B3">@@ -1,5 +1,5 @@</font>
  {
<font color="#C01C28">-    &quot;mode&quot;: &quot;0755&quot;,</font>
<font color="#26A269">+    &quot;mode&quot;: &quot;0777&quot;,</font>
      &quot;path&quot;: &quot;/etc/nginx/conf.d&quot;,
<font color="#C01C28">-    &quot;state&quot;: &quot;absent&quot;</font>
<font color="#26A269">+    &quot;state&quot;: &quot;directory&quot;</font>
  }

<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>

TASK [lighthouse-role : Ensure nginx group exists] *****************************
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>

TASK [lighthouse-role : Create nginx user] *************************************
<font color="#26A269">ok: [lighthouse-alpine-podman]</font>
<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>

TASK [lighthouse-role : Copy nginx.conf] ***************************************
<font color="#C01C28">--- before: /etc/nginx/nginx.conf</font>
<font color="#26A269">+++ after: /home/user/.ansible/tmp/ansible-local-899406w6u3ia7l/tmpw8v0s486/nginx.conf</font>
<font color="#2AA1B3">@@ -1,137 +1,29 @@</font>
<font color="#C01C28">-#user nginx nginx;</font>
<font color="#C01C28">-#worker_processes 1;</font>
<font color="#C01C28">-#pcre_jit off;</font>
<font color="#26A269">+user  nginx;</font>
<font color="#26A269">+worker_processes  auto;</font>

<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_http_echo_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_http_fancyindex_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_http_geoip2_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_http_image_filter_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_http_lua_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_http_perl_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_http_xslt_filter_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_mail_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_stream_geoip2_module.so;</font>
<font color="#C01C28">-# load_module /usr/lib64/nginx/modules/ngx_stream_module.so;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-#error_log  /var/log/nginx/error.log;</font>
<font color="#C01C28">-#error_log  /var/log/nginx/error.log  notice;</font>
<font color="#C01C28">-#error_log  /var/log/nginx/error.log  info;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-#pid        /run/nginx.pid;</font>
<font color="#26A269">+error_log  /var/log/nginx/error.log notice;</font>
<font color="#26A269">+pid        /var/run/nginx.pid;</font>


  events {
      worker_connections  1024;
<font color="#C01C28">-    use epoll;</font>
  }


  http {
<font color="#C01C28">-    include       mime.types;</font>
<font color="#26A269">+    include       /etc/nginx/mime.types;</font>
      default_type  application/octet-stream;

<font color="#C01C28">-    #log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</font>
<font color="#C01C28">-    #                  &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</font>
<font color="#C01C28">-    #                  &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</font>
<font color="#26A269">+    log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</font>
<font color="#26A269">+                      &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</font>
<font color="#26A269">+                      &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</font>

<font color="#C01C28">-    #access_log  /var/log/nginx/access.log  main;</font>
<font color="#26A269">+    access_log  /var/log/nginx/access.log  main;</font>

<font color="#C01C28">-    sendfile        on;</font>
<font color="#C01C28">-    #tcp_nopush     on;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    #keepalive_timeout  0;</font>
<font color="#26A269">+    sendfile           on;</font>
<font color="#26A269">+    tcp_nopush         on;</font>
      keepalive_timeout  65;

<font color="#C01C28">-    #gzip  on;</font>

<font color="#C01C28">-    include conf.d/*.conf;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    server {</font>
<font color="#C01C28">-        listen       80;</font>
<font color="#C01C28">-        server_name  localhost;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        #charset koi8-r;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        #access_log  /var/log/nginx/host.access.log  main;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        location / {</font>
<font color="#C01C28">-            root   /srv/www/htdocs/;</font>
<font color="#C01C28">-            index  index.html index.htm;</font>
<font color="#C01C28">-        }</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        #error_page  404              /404.html;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        # redirect server error pages to the static page /50x.html</font>
<font color="#C01C28">-        #</font>
<font color="#C01C28">-        error_page   500 502 503 504  /50x.html;</font>
<font color="#C01C28">-        location = /50x.html {</font>
<font color="#C01C28">-            root   /srv/www/htdocs/;</font>
<font color="#C01C28">-        }</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        # proxy the PHP scripts to Apache listening on 127.0.0.1:80</font>
<font color="#C01C28">-        #</font>
<font color="#C01C28">-        #location ~ \.php$ {</font>
<font color="#C01C28">-        #    proxy_pass   http://127.0.0.1;</font>
<font color="#C01C28">-        #}</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</font>
<font color="#C01C28">-        #</font>
<font color="#C01C28">-        #location ~ \.php$ {</font>
<font color="#C01C28">-        #    root   /srv/www/htdocs/;</font>
<font color="#C01C28">-        #    fastcgi_pass   127.0.0.1:9000;</font>
<font color="#C01C28">-        #    fastcgi_index  index.php;</font>
<font color="#C01C28">-        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</font>
<font color="#C01C28">-        #    include        fastcgi_params;</font>
<font color="#C01C28">-        #}</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-        # deny access to .htaccess files, if Apache&apos;s document root</font>
<font color="#C01C28">-        # concurs with nginx&apos;s one</font>
<font color="#C01C28">-        #</font>
<font color="#C01C28">-        #location ~ /\.ht {</font>
<font color="#C01C28">-        #    deny  all;</font>
<font color="#C01C28">-        #}</font>
<font color="#C01C28">-    }</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    # another virtual host using mix of IP-, name-, and port-based configuration</font>
<font color="#C01C28">-    #</font>
<font color="#C01C28">-    #server {</font>
<font color="#C01C28">-    #    listen       8000;</font>
<font color="#C01C28">-    #    listen       somename:8080;</font>
<font color="#C01C28">-    #    server_name  somename  alias  another.alias;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    #    location / {</font>
<font color="#C01C28">-    #        root   /srv/www/htdocs/;</font>
<font color="#C01C28">-    #        index  index.html index.htm;</font>
<font color="#C01C28">-    #    }</font>
<font color="#C01C28">-    #}</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    # HTTPS server</font>
<font color="#C01C28">-    #</font>
<font color="#C01C28">-    #server {</font>
<font color="#C01C28">-    #    listen       443 ssl;</font>
<font color="#C01C28">-    #    server_name  localhost;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    #    ssl_certificate      cert.pem;</font>
<font color="#C01C28">-    #    ssl_certificate_key  cert.key;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    #    Allow TLS version 1.2 only, which is a recommended default these days</font>
<font color="#C01C28">-    #    by international information security standards.</font>
<font color="#C01C28">-    #    ssl_protocols        TLSv1.2;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    #    ssl_session_cache    shared:SSL:1m;</font>
<font color="#C01C28">-    #    ssl_session_timeout  5m;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    #    ssl_ciphers  HIGH:!aNULL:!MD5;</font>
<font color="#C01C28">-    #    ssl_prefer_server_ciphers  on;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    #    location / {</font>
<font color="#C01C28">-    #        root   /srv/www/htdocs/;</font>
<font color="#C01C28">-    #        index  index.html index.htm;</font>
<font color="#C01C28">-    #    }</font>
<font color="#C01C28">-    #}</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-    include vhosts.d/*.conf;</font>
<font color="#C01C28">-</font>
<font color="#26A269">+    include /etc/nginx/conf.d/*.conf;</font>
  }

<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>
<font color="#C01C28">--- before: /etc/nginx/nginx.conf</font>
<font color="#26A269">+++ after: /home/user/.ansible/tmp/ansible-local-899406w6u3ia7l/tmp8tx0yaak/nginx.conf</font>
<font color="#2AA1B3">@@ -1,103 +1,29 @@</font>
<font color="#C01C28">-# /etc/nginx/nginx.conf</font>
<font color="#26A269">+user  nginx;</font>
<font color="#26A269">+worker_processes  auto;</font>

<font color="#C01C28">-user nginx;</font>
<font color="#26A269">+error_log  /var/log/nginx/error.log notice;</font>
<font color="#26A269">+pid        /var/run/nginx.pid;</font>

<font color="#C01C28">-# Set number of worker processes automatically based on number of CPU cores.</font>
<font color="#C01C28">-worker_processes auto;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-# Enables the use of JIT for regular expressions to speed-up their processing.</font>
<font color="#C01C28">-pcre_jit on;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-# Configures default error logger.</font>
<font color="#C01C28">-error_log /var/log/nginx/error.log warn;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-# Includes files with directives to load dynamic modules.</font>
<font color="#C01C28">-include /etc/nginx/modules/*.conf;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-# Include files with config snippets into the root context.</font>
<font color="#C01C28">-include /etc/nginx/conf.d/*.conf;</font>

  events {
<font color="#C01C28">-       # The maximum number of simultaneous connections that can be opened by</font>
<font color="#C01C28">-       # a worker process.</font>
<font color="#C01C28">-       worker_connections 1024;</font>
<font color="#26A269">+    worker_connections  1024;</font>
  }

<font color="#26A269">+</font>
  http {
<font color="#C01C28">-       # Includes mapping of file name extensions to MIME types of responses</font>
<font color="#C01C28">-       # and defines the default type.</font>
<font color="#C01C28">-       include /etc/nginx/mime.types;</font>
<font color="#C01C28">-       default_type application/octet-stream;</font>
<font color="#26A269">+    include       /etc/nginx/mime.types;</font>
<font color="#26A269">+    default_type  application/octet-stream;</font>

<font color="#C01C28">-       # Name servers used to resolve names of upstream servers into addresses.</font>
<font color="#C01C28">-       # It&apos;s also needed when using tcpsocket and udpsocket in Lua modules.</font>
<font color="#C01C28">-       #resolver 1.1.1.1 1.0.0.1 [2606:4700:4700::1111] [2606:4700:4700::1001];</font>
<font color="#26A269">+    log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</font>
<font color="#26A269">+                      &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</font>
<font color="#26A269">+                      &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</font>

<font color="#C01C28">-       # Don&apos;t tell nginx version to the clients. Default is &apos;on&apos;.</font>
<font color="#C01C28">-       server_tokens off;</font>
<font color="#26A269">+    access_log  /var/log/nginx/access.log  main;</font>

<font color="#C01C28">-       # Specifies the maximum accepted body size of a client request, as</font>
<font color="#C01C28">-       # indicated by the request header Content-Length. If the stated content</font>
<font color="#C01C28">-       # length is greater than this size, then the client receives the HTTP</font>
<font color="#C01C28">-       # error code 413. Set to 0 to disable. Default is &apos;1m&apos;.</font>
<font color="#C01C28">-       client_max_body_size 1m;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Sendfile copies data between one FD and other from within the kernel,</font>
<font color="#C01C28">-       # which is more efficient than read() + write(). Default is off.</font>
<font color="#C01C28">-       sendfile on;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Causes nginx to attempt to send its HTTP response head in one packet,</font>
<font color="#C01C28">-       # instead of using partial frames. Default is &apos;off&apos;.</font>
<font color="#C01C28">-       tcp_nopush on;</font>
<font color="#26A269">+    sendfile           on;</font>
<font color="#26A269">+    tcp_nopush         on;</font>
<font color="#26A269">+    keepalive_timeout  65;</font>


<font color="#C01C28">-       # Enables the specified protocols. Default is TLSv1 TLSv1.1 TLSv1.2.</font>
<font color="#C01C28">-       # TIP: If you&apos;re not obligated to support ancient clients, remove TLSv1.1.</font>
<font color="#C01C28">-       ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Path of the file with Diffie-Hellman parameters for EDH ciphers.</font>
<font color="#C01C28">-       # TIP: Generate with: `openssl dhparam -out /etc/ssl/nginx/dh2048.pem 2048`</font>
<font color="#C01C28">-       #ssl_dhparam /etc/ssl/nginx/dh2048.pem;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Specifies that our cipher suits should be preferred over client ciphers.</font>
<font color="#C01C28">-       # Default is &apos;off&apos;.</font>
<font color="#C01C28">-       ssl_prefer_server_ciphers on;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Enables a shared SSL cache with size that can hold around 8000 sessions.</font>
<font color="#C01C28">-       # Default is &apos;none&apos;.</font>
<font color="#C01C28">-       ssl_session_cache shared:SSL:2m;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Specifies a time during which a client may reuse the session parameters.</font>
<font color="#C01C28">-       # Default is &apos;5m&apos;.</font>
<font color="#C01C28">-       ssl_session_timeout 1h;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Disable TLS session tickets (they are insecure). Default is &apos;on&apos;.</font>
<font color="#C01C28">-       ssl_session_tickets off;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Enable gzipping of responses.</font>
<font color="#C01C28">-       #gzip on;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Set the Vary HTTP header as defined in the RFC 2616. Default is &apos;off&apos;.</font>
<font color="#C01C28">-       gzip_vary on;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Helper variable for proxying websockets.</font>
<font color="#C01C28">-       map $http_upgrade $connection_upgrade {</font>
<font color="#C01C28">-               default upgrade;</font>
<font color="#C01C28">-               &apos;&apos; close;</font>
<font color="#C01C28">-       }</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Specifies the main log format.</font>
<font color="#C01C28">-       log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</font>
<font color="#C01C28">-                       &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</font>
<font color="#C01C28">-                       &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Sets the path, format, and configuration for a buffered log write.</font>
<font color="#C01C28">-       access_log /var/log/nginx/access.log main;</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-</font>
<font color="#C01C28">-       # Includes virtual hosts configs.</font>
<font color="#C01C28">-       include /etc/nginx/http.d/*.conf;</font>
<font color="#26A269">+    include /etc/nginx/conf.d/*.conf;</font>
  }

<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>

TASK [lighthouse-role : Copy nginx configuration lighthouse for nginx] *********
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after: /home/user/.ansible/tmp/ansible-local-899406w6u3ia7l/tmp13h5fr7e/lighthouse-nginx.conf</font>
<font color="#2AA1B3">@@ -0,0 +1,5 @@</font>
<font color="#26A269">+server {</font>
<font color="#26A269">+  listen 8090;</font>
<font color="#26A269">+  server_name lighthouse;</font>
<font color="#26A269">+  root /opt/lighthouse;</font>
<font color="#26A269">+}</font>

<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>
<font color="#C01C28">--- before</font>
<font color="#26A269">+++ after: /home/user/.ansible/tmp/ansible-local-899406w6u3ia7l/tmpa35akflk/lighthouse-nginx.conf</font>
<font color="#2AA1B3">@@ -0,0 +1,5 @@</font>
<font color="#26A269">+server {</font>
<font color="#26A269">+  listen 8090;</font>
<font color="#26A269">+  server_name lighthouse;</font>
<font color="#26A269">+  root /opt/lighthouse;</font>
<font color="#26A269">+}</font>

<font color="#A2734C">changed: [lighthouse-alpine-podman]</font>

RUNNING HANDLER [lighthouse-role : Reload nginx] *******************************
<font color="#C01C28">fatal: [lighthouse-alpine-podman]: FAILED! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Service `hwdrivers&apos; needs non existent service `dev&apos;\nService `machine-id&apos; needs non existent service `dev&apos;\nhostname: sethostname: Operation not permitted\n * ERROR: hostname failed to start\nhostname: sethostname: Operation not permitted\n * ERROR: hostname failed to start\n * ERROR: cannot start networking as hostname would not start\n * ERROR: cannot start nginx as hostname would not start\n&quot;}</font>
<font color="#A2734C">changed: [lighthouse-tumbleweed-podman]</font>

RUNNING HANDLER [lighthouse-role : Ensure nginx service is active] *************
<font color="#26A269">ok: [lighthouse-tumbleweed-podman]</font>

PLAY RECAP *********************************************************************
<font color="#C01C28">lighthouse-alpine-podman</font>   : <font color="#26A269">ok=9   </font> <font color="#A2734C">changed=6   </font> unreachable=0    <font color="#C01C28">failed=1   </font> skipped=0    rescued=0    ignored=0
<font color="#C01C28">lighthouse-fedora-podman</font>   : <font color="#26A269">ok=1   </font> changed=0    unreachable=0    <font color="#C01C28">failed=1   </font> skipped=0    rescued=0    ignored=0
<font color="#A2734C">lighthouse-tumbleweed-podman</font> : <font color="#26A269">ok=11  </font> <font color="#A2734C">changed=8   </font> unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<font color="#C01C28"><b>CRITICAL</b></font><font color="#AAAAAA"> Ansible return code was 2, command was: ansible-playbook -D --inventory /home/user/.cache/molecule/lighthouse-role/generic-podman/inventory --skip-tags molecule-notest,notest /home/user/Projects/netology-devops/ansible/08-ansible-04-role/roles/lighthouse-role/molecule/resources/playbooks/converge.yml</font>
</pre>
  </body>
</html>
