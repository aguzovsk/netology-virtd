# Домашнее задание к занятию 4 (_Решение_) «Оркестрация группой Docker контейнеров на примере Docker Compose»
## Задание 1
Ссылка на Docker Hub: \
https://hub.docker.com/repository/docker/netologydevops/custom-nginx/general \
или https://hub.docker.com/r/netologydevops/custom-nginx/tags
## Задание 2
![Screenshot выполненого вторго задания](./items/Task2.png)
## Задание 3
**Пункты 1-9**
![Screenshot выполненого третьего задания, часть 1/2](./items/Task3-1.png)
__3.__ Контейнер остановился, т.к. таким способом мы ему выслали сигнал SIGINT - прерывание/завершение программы.

**Пункты 10-12**
![Screenshot выполненого третьего задания, часть 2/2](./items/Task3-2.png)
__10.__ Т.к. порт Nginx-сервера был изменён на 81, то больше нет возможности коммуницировать с ним через порт 80.
## Задание 4
![Screenshot выполненого четвёртого задания](./items/Task4.png)
## Задание 5
**Пункт 1**
![Screenshot выполненого пятого задания, часть 1/7](./items/Task5-1.png)
Был запущен portainer, т.к. он находился в файле compose.yaml,
В [документации](https://docs.docker.com/compose/reference/#specifying-multiple-compose-files) написано, что можно подать множество compose-файлов на вход, с помощью флага -f. Но, это опционально, по умолчанию docker compose ищет файл compose.yml и compose.override.yml.

**Пункт 2**

![Screenshot выполненого пятого задания, часть 2/7](./items/Task5-2.png) 

**Пункты 2, 3**
![Screenshot выполненого пятого задания, часть 3/7](./items/Task5-3.png) 

**Пункты 4, 5, 6**
![Screenshot выполненого пятого задания, часть 4/7](./items/Task5-4.png) 
![Screenshot выполненого пятого задания, часть 5/7](./items/Task5-5.png) 


<details>
  <summary>Troubleshouting</summary>

  + Не было возможности запустить браузер на виртуальной машине, т.к. она была запущена в консольном режиме. \
  Для этого нужно было сделать port forwarding от ВМ до хоста.
  ![Screenshot выполненого пятого задания, часть 6/7](./items/Task5-6.png)
  + Нужно было перезапустить контейнер с portainer, т.к. он после некоторого времени ожидания перестаёт отвечать.
  + После перезапуска браузер Chrome на хост машине не принимал от portainer соединения и выдавал ERR_SSL_PROTOCOL_ERROR \
  FireFox тоже не выдавал ошибку связанную с SSL, но вскоре по непонятным причинам заработал.
</details>

**Пункт 7**
![Screenshot выполненого пятого задания, часть 7/7](./items/Task5-7.png) \
Был найден осиротелый контейнер - не было обнаружено его дефиниции в compose-файле, где он был прежде. Docker compose предлагает удалить такие контейнера, если мы подадим дополнительно опцию --remove-orphans.
